'use strict';

const cac = require('cac');
const config = require('@tailwindcss-mangle/config');
const index = require('./index.cjs');
require('node:path');
require('node:fs');
require('node:fs/promises');
require('resolve');
require('@babel/types');
require('semver');
require('@babel/generator');
require('@babel/traverse');
require('@babel/parser');
require('postcss');
require('lilconfig');
require('jiti');

function _interopDefaultCompat (e) { return e && typeof e === 'object' && 'default' in e ? e.default : e; }

const cac__default = /*#__PURE__*/_interopDefaultCompat(cac);

function init() {
  const cwd = process.cwd();
  return config.initConfig(cwd);
}
const cli = cac__default();
cli.command("install", "patch install").action(() => {
  const opt = index.getPatchOptions();
  const patch = index.createPatch(opt);
  patch();
});
cli.command("init").action(async () => {
  await init();
  console.log(`\u2728 ${config.configName}.config.ts initialized!`);
});
cli.command("extract").action(async () => {
  const { config: config$1 } = await config.getConfig();
  if (config$1) {
    const twPatcher = new index.TailwindcssPatcher();
    const p = await twPatcher.extract(config$1.patch);
    console.log("\u2728 tailwindcss-patch extract success! file path: " + p);
  }
});
cli.help();
cli.parse();
