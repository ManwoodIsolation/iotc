import { escape, SimpleMappingChars2String } from '@weapp-core/escape';
export { MappingChars2String, MappingChars2StringEntries, SYMBOL_TABLE, SimpleMappingChars2String, SimpleMappingChars2StringEntries } from '@weapp-core/escape';
import '@ast-core/escape';
export { i as replaceCss } from './shared-D4ZM_mI-.mjs';

function replaceWxml(original, options = {
    keepEOL: false,
    escapeMap: SimpleMappingChars2String
}) {
    const { keepEOL, escapeMap, mangleContext } = options;
    let res = original;
    if (!keepEOL) {
        res = res
            .replaceAll(/[\n\r]+/g, '');
    }
    if (mangleContext) {
        res = mangleContext.wxmlHandler(res);
    }
    res = escape(res, {
        map: escapeMap
    });
    return res;
}

export { replaceWxml as replaceJs };
