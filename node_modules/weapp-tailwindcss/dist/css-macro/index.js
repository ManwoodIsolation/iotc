'use strict';

var plugin = require('tailwindcss/plugin');
var constants = require('../constants-D-YMDg7M.js');
var defu = require('../defu-JkbfvVKI.js');

function _interopDefaultCompat (e) { return e && typeof e === 'object' && 'default' in e ? e : { default: e }; }

var plugin__default = /*#__PURE__*/_interopDefaultCompat(plugin);

var index = plugin__default["default"].withOptions((options) => {
    const { dynamic: dynamicMode, variantsMap } = defu.defu(options, {
        dynamic: true,
        variantsMap: {}
    });
    return ({ matchVariant, addVariant }) => {
        if (dynamicMode) {
            matchVariant('ifdef', (value) => {
                return constants.createMediaQuery(value);
            });
            matchVariant('ifndef', (value) => {
                return constants.createNegativeMediaQuery(value);
            });
        }
        for (const [name, obj] of Object.entries(variantsMap)) {
            if (typeof obj === 'string') {
                addVariant(name, constants.createMediaQuery(obj));
            }
            else {
                addVariant(name, obj.negative ? constants.createNegativeMediaQuery(obj.value) : constants.createMediaQuery(obj.value));
            }
        }
    };
});

module.exports = index;
